{"version":3,"sources":["module.js","edit/editCtrl.js","list/listCtrl.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","state","url","abstract","template","app","templateUrl","controller","params","id","$scope","$stateParams","Clients","init","get","r","vm","client","this","console","log","translation","save","getAll","result","clients","remove","confirm","window","ClientId","splice","indexOf","error","alert","getTitle","CultureResolver","String","IsNullOrEmpty"],"mappings":"AAAAA,QAAQC,OAAO,0BAA2B,YAAa,0BAA0BC,QAAQ,iBAAkB,qBAAsB,SAAUC,EAAgBC,GACvJD,EAAeE,MAAM,eACjBC,IAAK,WACLC,YAAU,EACVC,SAAU,aACVC,IAAK,2BAGTN,EACKE,MAAM,oBACHC,IAAK,GACLI,YAAa,iCACbC,WAAY,qBAGpBR,EACKE,MAAM,oBACHC,IAAK,YACLI,YAAa,iCACbC,WAAY,mBACZC,QAAUC,GAAI;ACpB1Bb,QAAQC,OAAO,0BAA0BU,WAAW,YAAa,SAAU,eAAgB,UAAW,SAAUG,EAAQC,EAAcC,GAQlI,QAASC,KACLD,EAAQE,KAAML,GAAIE,EAAaF,IAAM,SAAUM,GAC3CC,EAAGC,OAASF,IATpB,GAAIC,GAAKE,IAETC,SAAQC,IAAI,eAAgBT,GAE5BO,KAAKD,OAAS,KACdC,KAAKG,eAQLH,KAAKI,KAAO,WACRV,EAAQU,KAAKN,EAAGC,OAAQ,SAAUF,GAC9BI,QAAQC,IAAIL,MAIpBF;ACpBJjB,QAAQC,OAAO,0BAA0BU,WAAW,YAAa,SAAU,UAAW,SAAUG,EAAQE,GAKpG,QAASC,KACLD,EAAQW,OAAO,SAAUC,GACrBR,EAAGS,QAAUD,IANrB,GAAIR,GAAKE,IAETA,MAAKO,WAQLP,KAAKQ,OAAS,SAAUT,GACpB,GAAIU,GAAUC,OAAOD,QAAQ,6BACzBA,IACAf,EAAQc,QAASjB,GAAIQ,EAAOY,UAAY,SAAUL,GAC9CR,EAAGS,QAAQK,OAAOd,EAAGS,QAAQM,QAAQd,GAAS,IAC/C,SAAUe,GACTC,MAAM,8BAKlBf,KAAKgB,SAAW,SAAUjB,GACtB,GAAIF,GAAIoB,gBAAgBlB,EAAQmB,OAAOC,cAEvC,OAAS,OAALtB,EAAkBA,EAEf,YAGXF","file":"wwwroot/js/clients.min.js","sourcesContent":["angular.module('invenietis.app.clients', ['ui.router', 'invenietis.app.common']).config(['$stateProvider', '$urlRouterProvider', function ($stateProvider, $urlRouterProvider) {\r\n    $stateProvider.state('app.clients', {\r\n        url: '/clients',\r\n        abstract: true,\r\n        template: '<ui-view/>',\r\n        app: 'invenietis.app.clients'\r\n    });\r\n\r\n    $stateProvider\r\n        .state('app.clients.list', {\r\n            url: '',\r\n            templateUrl: '/js/app/clients/list/list.html',\r\n            controller: 'ListCtrl as ctrl',\r\n        });\r\n\r\n    $stateProvider\r\n        .state('app.clients.edit', {\r\n            url: '/{id:int}',\r\n            templateUrl: '/js/app/clients/edit/edit.html',\r\n            controller: 'EditCtrl as ctrl',\r\n            params: { id: 0 }\r\n        });\r\n}]);","angular.module('invenietis.app.clients').controller('EditCtrl', ['$scope', '$stateParams', 'Clients', function ($scope, $stateParams, Clients) {\r\n    var vm = this;\r\n\r\n    console.log('clients.edit', $stateParams);\r\n\r\n    this.client = null;\r\n    this.translation = {};\r\n\r\n    function init() {\r\n        Clients.get({ id: $stateParams.id }, function (r) {\r\n            vm.client = r;\r\n        });\r\n    }\r\n\r\n    this.save = function () {\r\n        Clients.save(vm.client, function (r) {\r\n            console.log(r);\r\n        });\r\n    }\r\n\r\n    init();\r\n}]);","angular.module('invenietis.app.clients').controller('ListCtrl', ['$scope', 'Clients', function ($scope, Clients) {\r\n    var vm = this;\r\n\r\n    this.clients = [];\r\n\r\n    function init() {\r\n        Clients.getAll(function (result) {\r\n            vm.clients = result;\r\n        });\r\n    }\r\n\r\n    this.remove = function (client) {\r\n        var confirm = window.confirm('Confirmer la suppression ?');\r\n        if (confirm) {\r\n            Clients.remove({ id: client.ClientId }, function (result) {\r\n                vm.clients.splice(vm.clients.indexOf(client), 1);\r\n            }, function (error) {\r\n                alert('Une erreur est survenue');\r\n            });\r\n        }\r\n    }\r\n\r\n    this.getTitle = function (client) {\r\n        var r = CultureResolver(client, String.IsNullOrEmpty);\r\n\r\n        if (r != null) return r;\r\n\r\n        return \"Untitled\";\r\n    }\r\n\r\n    init();\r\n}]);"],"sourceRoot":"/source/"}